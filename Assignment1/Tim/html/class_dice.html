<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>COMP 345 Assignment 1: Dice: Dice Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COMP 345 Assignment 1: Dice
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_dice-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Dice Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_dice.html" title="Dice class. ">Dice</a> class.  
 <a href="class_dice.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dice_8h_source.html">dice.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4923bdf22040579e6e071e1e987916c2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dice.html#a4923bdf22040579e6e071e1e987916c2">roll</a> (string string)</td></tr>
<tr class="memdesc:a4923bdf22040579e6e071e1e987916c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a string in dice notation and simulates dice rolls.  <a href="#a4923bdf22040579e6e071e1e987916c2">More...</a><br /></td></tr>
<tr class="separator:a4923bdf22040579e6e071e1e987916c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:af481058183b404432e1f0e44ac2edda7"><td class="memItemLeft" align="right" valign="top">static random_device&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dice.html#af481058183b404432e1f0e44ac2edda7">seeder</a></td></tr>
<tr class="separator:af481058183b404432e1f0e44ac2edda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2419b5841ba494b6f8beec92ab0cc6d"><td class="memItemLeft" align="right" valign="top">static mt19937&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dice.html#ac2419b5841ba494b6f8beec92ab0cc6d">engine</a></td></tr>
<tr class="separator:ac2419b5841ba494b6f8beec92ab0cc6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed565a295973cdcc36921307ff4133b0"><td class="memItemLeft" align="right" valign="top">static regex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dice.html#aed565a295973cdcc36921307ff4133b0">pattern</a></td></tr>
<tr class="separator:aed565a295973cdcc36921307ff4133b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_dice.html" title="Dice class. ">Dice</a> class. </p>
<p>Used in simulating dice rolls for D&amp;D style gameplay. This class contains a single static function called roll which takes a string in valid dice notation and returns the resulting simulated dice rolls.</p>
<p>&lt;regex&gt; library is used to verify strings are in correct dice notation and parse them for relevant data.</p>
<p>&lt;random&gt; library is used for random_device, mt19937, and uniform_distribution types. We use a random_device to produce a non-deterministic seed for an mt19937 mersenne twister engine, then define a uniform distribution between 1 and the value of the dice being rolled. The reason for using a mersenne twister over a simpler rand() implementation is that mt19937 generates a much better approximation of randomness. Rand() used in combination with mod generates numbers biased towards the lower end. By using mt19937 in conjunction with uniform distribution, we generate unbiased, uniformly distributed numbers between 1 and the dice value with very small overhead.</p>
<p>&lt;iostream&gt; is used to output to console for testing and debugging purposes </p>

<p>Definition at line <a class="el" href="dice_8h_source.html#l00028">28</a> of file <a class="el" href="dice_8h_source.html">dice.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4923bdf22040579e6e071e1e987916c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4923bdf22040579e6e071e1e987916c2">&sect;&nbsp;</a></span>roll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Dice::roll </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes a string in dice notation and simulates dice rolls. </p>
<p>Takes a string in the form xdy or xdy+z and where x, z are integers and y is one of 4, 6, 8, 10, 12, 20, 100. Simulates rolling x y-sided dice and returns the result (+z if applicable) </p>

<p>Definition at line <a class="el" href="dice_8cpp_source.html#l00017">17</a> of file <a class="el" href="dice_8cpp_source.html">dice.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                               {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="comment">// Declare regex result </span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    smatch result;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordflow">if</span> (regex_search(diceInput, result, <a class="code" href="class_dice.html#aed565a295973cdcc36921307ff4133b0">pattern</a>)) {</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="comment">//Input is valid dice notation</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="comment">//Store parsed data for x, y in integers, initialize variables</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keywordtype">int</span> diceNum = stoi(result[1]), diceVal = stoi(result[2]), diceMod = 0, rollSum = 0, currentRoll = 0;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Rolling &quot;</span> &lt;&lt; diceInput &lt;&lt; endl;;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        </div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="comment">//Define uniform distribution from 1 to diceVal</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        uniform_int_distribution&lt;int&gt; dist(1, diceVal);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="comment">// Roll [diceNum] pseudorandom numbers between 1 and [diceVal], store their sum in rollSum. Output result of each roll</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; diceNum; i++) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            currentRoll = dist(<a class="code" href="class_dice.html#ac2419b5841ba494b6f8beec92ab0cc6d">engine</a>);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Roll &quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; currentRoll &lt;&lt; endl;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            rollSum += currentRoll;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment">// Check if z exists and if so, store it in diceMod and add it to sum</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">if</span> (result[3].matched) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            diceMod = stoi(result[3]);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Modifier: +&quot;</span> &lt;&lt; diceMod &lt;&lt; endl;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            rollSum += diceMod;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="comment">// Output the final roll sum</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Total: &quot;</span> &lt;&lt; rollSum &lt;&lt; endl &lt;&lt; endl; </div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">return</span> rollSum;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Invalid input string &#39;&quot;</span> &lt;&lt; diceInput &lt;&lt; <span class="stringliteral">&quot;&#39;: input must be in the form xdy or xdy+z&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="ttc" id="class_dice_html_ac2419b5841ba494b6f8beec92ab0cc6d"><div class="ttname"><a href="class_dice.html#ac2419b5841ba494b6f8beec92ab0cc6d">Dice::engine</a></div><div class="ttdeci">static mt19937 engine</div><div class="ttdef"><b>Definition:</b> <a href="dice_8h_source.html#l00039">dice.h:39</a></div></div>
<div class="ttc" id="class_dice_html_aed565a295973cdcc36921307ff4133b0"><div class="ttname"><a href="class_dice.html#aed565a295973cdcc36921307ff4133b0">Dice::pattern</a></div><div class="ttdeci">static regex pattern</div><div class="ttdef"><b>Definition:</b> <a href="dice_8h_source.html#l00044">dice.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac2419b5841ba494b6f8beec92ab0cc6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2419b5841ba494b6f8beec92ab0cc6d">&sect;&nbsp;</a></span>engine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mt19937 Dice::engine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>mt19937</p>
<p>Mersenne twister engine used to generate pseudorandom numbers for dice rolls </p>

<p>Definition at line <a class="el" href="dice_8h_source.html#l00039">39</a> of file <a class="el" href="dice_8h_source.html">dice.h</a>.</p>

</div>
</div>
<a id="aed565a295973cdcc36921307ff4133b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed565a295973cdcc36921307ff4133b0">&sect;&nbsp;</a></span>pattern</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">regex Dice::pattern</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>regex pattern</p>
<p>Regex used to verify a string is valid dice notation and parse the string </p>

<p>Definition at line <a class="el" href="dice_8h_source.html#l00044">44</a> of file <a class="el" href="dice_8h_source.html">dice.h</a>.</p>

</div>
</div>
<a id="af481058183b404432e1f0e44ac2edda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af481058183b404432e1f0e44ac2edda7">&sect;&nbsp;</a></span>seeder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">random_device Dice::seeder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>random_device</p>
<p>Generates seed for mersenne twister </p>

<p>Definition at line <a class="el" href="dice_8h_source.html#l00034">34</a> of file <a class="el" href="dice_8h_source.html">dice.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="dice_8h_source.html">dice.h</a></li>
<li><a class="el" href="dice_8cpp_source.html">dice.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 21 2016 21:45:57 for COMP 345 Assignment 1: Dice by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
